{"mappings":"AAAA,MCCMA,EAAUC,SAASC,cAAc,wBACjCC,EAAWF,SAASC,cAAc,yBAClCE,EAAWH,SAASC,cAAc,qBAClCG,EAAYJ,SAASC,cAAc,aACnCI,EAAWL,SAASC,cAAc,eAYxC,SAASK,IACPF,EAAUG,UAAUC,OAAO,YAC7B,CAZAL,EAASM,iBAAiB,SAASC,IACjC,MAAMC,EAAKD,EAAME,OAAOD,GACxBE,EAAcF,GACdL,GAAA,IAGFD,EAASI,iBAAiB,SAAS,KACjCH,GAAA,IAOF,MAOMO,EAAgBC,MAAMH,IAC1BI,OARgBD,OAAMH,IACtB,MACMK,QAAcC,MAAM,sCAAsCN,8CAEhE,aADuBK,EAAME,MACtB,EAIKC,CAAUR,GAAA,EA2DxB,MAAMI,EAAQD,MAAMM,IAClBrB,EAAQsB,UAAY,GACpBnB,EAASmB,UAAY,GACrBtB,EAAQsB,UA3DV,SAAyBD,GACvB,MAAO,wEACiCA,EAAKE,6CAE/C,CAuDsBC,CAAgBH,GACpClB,EAASmB,UA3CX,SAA0BD,GACxB,MAAO,gFAE6BA,EAAKI,yVAQcJ,EAAKK,aAAaC,QAAQ,eAC/EN,EAAKO,oMAKiDP,EAAKQ,wMAILR,EAAKS,mMAILT,EAAKU,OACxCC,KAAIC,GAASA,EAAMC,OACnBC,KAAK,uMAOed,EAAKe,kDAGhD,CAMuBC,CAAiBhB,GArDtCjB,EAASkC,oBAAoB,SAAS3B,IACpC,MAAMC,EAAKD,EAAME,OAAOD,GACxBE,EAAcF,GACdL,GAAA,IAEFD,EAASgC,oBAAoB,SAAS,KACpC/B,GAAA,GAgDF,EC7FsBN,SAASC,cAAc","sources":["src/js/movies-list.js","src/js/modal.js","src/js/loader.js"],"sourcesContent":["const listBuilder = moviesArray => {\n  moviesArray.forEach(elem => {\n    //Creating container and class for general movie info (cover, title, genres etc.)\n    const movieCoverFigure = document.createElement('figure');\n    movieCoverFigure.classList.add('cover__container');\n\n    //Creating more details label\n    const moreDetailsLabel = document.createElement('span');\n    moreDetailsLabel.classList.add('cover__label');\n    moreDetailsLabel.innerHTML = `Click for more details`;\n\n    //Creating img tag for movie cover\n    const coverImg = document.createElement('img');\n    coverImg.classList.add('cover__image');\n    coverImg.setAttribute('src', `https://image.tmdb.org/t/p/w500${elem['poster_path']}`);\n    coverImg.setAttribute('alt', elem['original_title']);\n    coverImg.setAttribute('loading', 'lazy');\n    const imgAtrribute = coverImg.getAttribute('src');\n    if (imgAtrribute === 'https://image.tmdb.org/t/p/w500null') {\n      coverImg.setAttribute('src', `${noImage}`);\n      coverImg.setAttribute('alt', `no poster found`);\n    }\n    //Creating figcaption (container for title, genres etc.)\n    const coverFigcaption = document.createElement('figcaption');\n    coverFigcaption.classList.add('cover__figcaption');\n\n    //Header for movie title\n    const movieTitle = document.createElement('h3');\n    movieTitle.classList.add('cover__figcaption-title');\n\n    movieTitle.innerHTML = elem['name'] || elem['original_name'] || elem['original_title'];\n\n    //Tag for movie data (genres, release date)\n    const movieData = document.createElement('p');\n    movieData.classList.add('cover__figcaption-movie-data');\n\n    const movieGenresArray = [];\n\n    if (elem['genre_ids']) {\n      for (const id of elem['genre_ids']) {\n        movieGenresArray.push(genresList[`${id}`]);\n      }\n    } else {\n      elem['genres'].forEach(e => {\n        movieGenresArray.push(genresList[`${e['id']}`]);\n      });\n    }\n\n    const releaseDate = new Date(`${elem['release_date'] || elem['first_air_date']}`);\n\n    movieData.innerHTML = `${movieGenresArray.join(', ')} | ${releaseDate.getFullYear()}`;\n\n    coverFigcaption.append(movieTitle);\n    coverFigcaption.append(movieData);\n\n    movieCoverFigure.append(coverImg);\n    movieCoverFigure.append(moreDetailsLabel);\n    movieCoverFigure.append(coverFigcaption);\n    moviesContainer.append(movieCoverFigure);\n\n    const movieIDInjection = document.querySelectorAll('[class^=cover_]');\n\n    for (const tag of movieIDInjection) {\n      if (tag.id === '') {\n        tag.setAttribute('id', elem['id']);\n      }\n    }\n  });\n};\n","export { Modal };\nconst filmImg = document.querySelector('.card-film__film-img');\nconst filmInfo = document.querySelector('.card-film__film-desc');\nconst cardFilm = document.querySelector('.cover__container');\nconst showModal = document.querySelector('.backdrop');\nconst closeBtn = document.querySelector('.modal__btn');\n\ncardFilm.addEventListener('click', event => {\n  const id = event.target.id;\n  fetchFilmInfo(id);\n  toggleModal();\n});\n\ncloseBtn.addEventListener('click', () => {\n  toggleModal();\n});\n\nfunction toggleModal() {\n  showModal.classList.toggle('is-hidden');\n}\n\nconst fetchInfo = async id => {\n  const API_KEY = 'eaafeda4857b9c9fecdb45e75f22375a';\n  const array = await fetch(`https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}`);\n  const response = await array.json();\n  return response;\n};\n\nconst fetchFilmInfo = async id => {\n  Modal(await fetchInfo(id));\n};\n\nfunction getModalFilmImg(data) {\n  return `<img class=\"card-film__img\"\n    src=\"https://image.tmdb.org/t/p/w500${data.poster_path}\" alt=\"alt\"\n    loading=\"lazy\">`;\n}\n\nfunction removeEventListener() {\n  cardFilm.removeEventListener('click', event => {\n    const id = event.target.id;\n    fetchFilmInfo(id);\n    toggleModal();\n  });\n  closeBtn.removeEventListener('click', () => {\n    toggleModal();\n  });\n}\n\nfunction getModalFilmInfo(data) {\n  return `<ul class=\"card-film__list\">\n     <li>\n       <h2 class=\"card-film__title\">${data.title}</h2>\n    </li>\n    <li class=\"card-film__properties\">\n       <table class=\"card-film__table\">\n            <tbody>\n                <tr>\n                    <td class=\"card-film__table__propery\">Vote / Votes</td>\n                    <td class=\"card-film__table__value\"><span\n                        class=\"card-film__table__rate\">${data.vote_average.toFixed(2)}</span> / ${\n    data.vote_count\n  }</td>\n                </tr>\n                <tr>\n                    <td class=\"card-film__table__propery\">Popularity</td>\n                    <td class=\"card-film__table__value\">${data.popularity}</td>\n                </tr>\n                <tr>\n                    <td class=\"card-film__table__propery\">Original Title</td>\n                    <td class=\"card-film__table__value\">${data.original_title}</td>\n                </tr>\n                <tr>\n                    <td class=\"card-film__table__propery\">Genre</td>\n                    <td class=\"card-film__table__value\">${data.genres\n                      .map(genre => genre.name)\n                      .join(', ')}</td>\n                </tr>\n            </tbody>\n        </table>\n    </li>\n    <li>\n        <p class=\"card-film__list__desc__title\">About</p>\n        <p class=\"card-film__list__desc\">${data.overview}</p>\n           </li>\n           </ul>`;\n}\n\nconst Modal = async data => {\n  filmImg.innerHTML = '';\n  filmInfo.innerHTML = '';\n  filmImg.innerHTML = getModalFilmImg(data);\n  filmInfo.innerHTML = getModalFilmInfo(data);\n  removeEventListener();\n};\n","const loaderContainer = document.querySelector('.loader-container');\n\nconst displayLoading = () => {\n  loaderContainer.style.display = 'flex';\n};\n\nconst hideLoading = () => {\n  loaderContainer.style.display = 'none';\n};\n\nexport { displayLoading, hideLoading };\n"],"names":["$2ea800676e6f7669$var$filmImg","document","querySelector","$2ea800676e6f7669$var$filmInfo","$2ea800676e6f7669$var$cardFilm","$2ea800676e6f7669$var$showModal","$2ea800676e6f7669$var$closeBtn","$2ea800676e6f7669$var$toggleModal","classList","toggle","addEventListener","event","id","target","$2ea800676e6f7669$var$fetchFilmInfo","async","$2ea800676e6f7669$export$2b77a92f1a5ad772","array","fetch","json","$2ea800676e6f7669$var$fetchInfo","data","innerHTML","poster_path","$2ea800676e6f7669$var$getModalFilmImg","title","vote_average","toFixed","vote_count","popularity","original_title","genres","map","genre","name","join","overview","$2ea800676e6f7669$var$getModalFilmInfo","removeEventListener"],"version":3,"file":"index.0376a156.js.map"}